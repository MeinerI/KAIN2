#include "THISDUST.H"
#include "STATE.H"

// decompiled code
// original method signature:
// void /*$ra*/ InitMessageQueue(struct __MessageQueue *In /*$a0*/)
// line 88, offset 0x8007071c
/* begin block 1 */
// Start line: 117
/* end block 1 */
// End Line: 118

/* begin block 2 */
// Start line: 176
/* end block 2 */
// End Line: 177

/* begin block 3 */
// Start line: 118
/* end block 3 */
// End Line: 119

void InitMessageQueue(__MessageQueue *In)

{
	In->Head = 0;
	In->Tail = 0;
	return;
}

// decompiled code
// original method signature:
// struct __Event * /*$ra*/ DeMessageQueue(struct __MessageQueue *In /*$a0*/)
// line 95, offset 0x80070728
/* begin block 1 */
// Start line: 97
// Start offset: 0x80070728
/* end block 1 */
// End offset: 0x8007075C
// End Line: 109

/* begin block 2 */
// Start line: 131
/* end block 2 */
// End Line: 132

/* begin block 3 */
// Start line: 132
/* end block 3 */
// End Line: 133

/* begin block 4 */
// Start line: 135
/* end block 4 */
// End Line: 136

__Event *DeMessageQueue(__MessageQueue *In)

{
	int iVar1;

	iVar1 = In->Head;
	if (iVar1 == In->Tail)
	{
		return (__Event *)0x0;
	}
	In->Head = iVar1 + 1;
	if (iVar1 + 1 == 0x10)
	{
		In->Head = 0;
	}
	return In->Queue + iVar1;
}

// decompiled code
// original method signature:
// void /*$ra*/ PurgeMessageQueue(struct __MessageQueue *In /*$a0*/)
// line 157, offset 0x80070764
/* begin block 1 */
// Start line: 314
/* end block 1 */
// End Line: 315

/* begin block 2 */
// Start line: 207
/* end block 2 */
// End Line: 208

void PurgeMessageQueue(__MessageQueue *In)

{
	In->Tail = 0;
	In->Head = 0;
	return;
}

// decompiled code
// original method signature:
// struct __Event * /*$ra*/ PeekMessageQueue(struct __MessageQueue *In /*$a0*/)
// line 164, offset 0x80070770
/* begin block 1 */
// Start line: 220
/* end block 1 */
// End Line: 221

/* begin block 2 */
// Start line: 222
/* end block 2 */
// End Line: 223

__Event *PeekMessageQueue(__MessageQueue *In)

{
	if (In->Head != In->Tail)
	{
		return In->Queue + In->Head;
	}
	return (__Event *)0x0;
}

// decompiled code
// original method signature:
// void /*$ra*/ EnMessageQueue(struct __MessageQueue *In /*$a0*/, struct __Event *Element /*$v0*/)
// line 197, offset 0x80070798
/* begin block 1 */
// Start line: 262
/* end block 1 */
// End Line: 263

/* begin block 2 */
// Start line: 289
/* end block 2 */
// End Line: 290

void EnMessageQueue(__MessageQueue *In, __Event *Element)

{
	/* WARNING: Subroutine does not return */
	EnMessageQueueData(In, Element->ID, Element->Data);
}

// decompiled code
// original method signature:
// void /*$ra*/ EnMessageQueueData(struct __MessageQueue *In /*$a0*/, int ID /*$a1*/, int Data /*$a2*/)
// line 204, offset 0x800707c4
/* begin block 1 */
// Start line: 206
// Start offset: 0x800707C4
// Variables:
// 		int i; // $v1
/* end block 1 */
// End offset: 0x80070838
// End Line: 251

/* begin block 2 */
// Start line: 303
/* end block 2 */
// End Line: 304

/* begin block 3 */
// Start line: 304
/* end block 3 */
// End Line: 305

/* begin block 4 */
// Start line: 308
/* end block 4 */
// End Line: 309

void EnMessageQueueData(__MessageQueue *In, int ID, int Data)

{
	int iVar1;

	In->Queue[In->Tail].ID = ID;
	In->Queue[In->Tail].Data = Data;
	iVar1 = In->Tail + 1;
	In->Tail = iVar1;
	if (iVar1 == 0x10)
	{
		In->Tail = 0;
	}
	iVar1 = In->Head;
	if (iVar1 == In->Tail)
	{
		do
		{
			iVar1 = iVar1 + 1;
			if (iVar1 == 0x10)
			{
				iVar1 = 0;
			}
		} while (iVar1 != In->Tail);
	}
	return;
}

// decompiled code
// original method signature:
// void * /*$ra*/ CIRC_Alloc(int size /*$a0*/)
// line 268, offset 0x80070840
/* begin block 1 */
// Start line: 270
// Start offset: 0x80070840
// Variables:
// 		void *ret; // $v1
/* end block 1 */
// End offset: 0x8007087C
// End Line: 287

/* begin block 2 */
// Start line: 432
/* end block 2 */
// End Line: 433

/* begin block 3 */
// Start line: 433
/* end block 3 */
// End Line: 434

/* begin block 4 */
// Start line: 437
/* end block 4 */
// End Line: 438

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void *CIRC_Alloc(int size)

{
	void *pvVar1;
	uint uVar2;
	uint uVar3;

	uVar2 = size + 3U & 0xfffffffc;
	uVar3 = (int)_mainFormatString + uVar2;
	pvVar1 = _mainFormatString;
	if (0x800d3e2c < uVar3)
	{
		_mainFormatString = (void *)(uVar2 + 0x800d2e2c);
		return &fontTracker.font_buffer[0xc6].c;
	}
	_mainFormatString = (void *)uVar3;
	return pvVar1;
}

// decompiled code
// original method signature:
// int /*$ra*/ SetCollideInfoData(struct _CollideInfo *srcCI /*$s0*/)
// line 298, offset 0x80070884
/* begin block 1 */
// Start line: 299
// Start offset: 0x80070884
// Variables:
// 		struct _CollideInfo *Ptr; // $v0
/* end block 1 */
// End offset: 0x800708D0
// End Line: 305

/* begin block 2 */
// Start line: 494
/* end block 2 */
// End Line: 495

int SetCollideInfoData(_CollideInfo *srcCI)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x30);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetMonsterHitData(struct _Instance *Sender /*$s1*/, struct _Instance *lastHit /*$s2*/, int Power /*$s3*/, int knockBackDistance /*$s4*/, int knockBackFrames /*stack 16*/)
// line 315, offset 0x800708e0
/* begin block 1 */
// Start line: 316
// Start offset: 0x800708E0
// Variables:
// 		struct evMonsterHitData *Ptr; // $v0
/* end block 1 */
// End offset: 0x800708E0
// End Line: 316

/* begin block 2 */
// Start line: 528
/* end block 2 */
// End Line: 529

int SetMonsterHitData(_Instance *Sender, _Instance *lastHit, int Power, int knockBackDistance,
					  int knockBackFrames)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x10);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetMonsterThrownData(struct _Instance *Sender /*$s1*/, struct _Rotation *Direction /*$s0*/, int Power /*$s2*/)
// line 332, offset 0x8007094c
/* begin block 1 */
// Start line: 333
// Start offset: 0x8007094C
// Variables:
// 		struct evMonsterThrownData *Ptr; // $v0
/* end block 1 */
// End offset: 0x8007094C
// End Line: 333

/* begin block 2 */
// Start line: 562
/* end block 2 */
// End Line: 563

int SetMonsterThrownData(_Instance *Sender, _Rotation *Direction, int Power)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x10);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetMonsterAlarmData(struct _Instance *sender /*$s1*/, struct _Position *position /*$s0*/, int type /*$s2*/)
// line 348, offset 0x800709b4
/* begin block 1 */
// Start line: 349
// Start offset: 0x800709B4
// Variables:
// 		struct evMonsterAlarmData *Ptr; // $v0
/* end block 1 */
// End offset: 0x800709B4
// End Line: 349

/* begin block 2 */
// Start line: 595
/* end block 2 */
// End Line: 596

int SetMonsterAlarmData(_Instance *sender, _Position *position, int type)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0xc);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetMonsterSoulSuckData(struct _Instance *Sender /*$s0*/, int x /*$s1*/, int y /*$s2*/, int z /*$s3*/)
// line 365, offset 0x80070a1c
/* begin block 1 */
// Start line: 366
// Start offset: 0x80070A1C
// Variables:
// 		struct evMonsterSoulSuckData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070A1C
// End Line: 366

/* begin block 2 */
// Start line: 630
/* end block 2 */
// End Line: 631

int SetMonsterSoulSuckData(_Instance *Sender, int x, int y, int z)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0xc);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetMonsterImpaleData(struct _Instance *weapon /*$s2*/, struct _Rotation *direction /*$s0*/, struct _Position *position /*$s1*/, int distance /*$s3*/)
// line 382, offset 0x80070a78
/* begin block 1 */
// Start line: 383
// Start offset: 0x80070A78
// Variables:
// 		struct evMonsterImpaleData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070A78
// End Line: 383

/* begin block 2 */
// Start line: 664
/* end block 2 */
// End Line: 665

int SetMonsterImpaleData(_Instance *weapon, _Rotation *direction, _Position *position, int distance)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x14);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetObjectData(int x /*$s1*/, int y /*$s2*/, int PathNumber /*$s3*/, struct _Instance *Force /*$s4*/, int node /*stack 16*/)
// line 403, offset 0x80070b10
/* begin block 1 */
// Start line: 404
// Start offset: 0x80070B10
// Variables:
// 		struct evObjectData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070B10
// End Line: 404

/* begin block 2 */
// Start line: 707
/* end block 2 */
// End Line: 708

int SetObjectData(int x, int y, int PathNumber, _Instance *Force, int node)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x10);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetPositionData(int x /*$s0*/, int y /*$s1*/, int z /*$s2*/)
// line 420, offset 0x80070b7c
/* begin block 1 */
// Start line: 421
// Start offset: 0x80070B7C
// Variables:
// 		struct evPositionData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070B7C
// End Line: 421

/* begin block 2 */
// Start line: 741
/* end block 2 */
// End Line: 742

int SetPositionData(int x, int y, int z)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(8);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetPhysicsGravityData(int UpperOffset /*$s2*/, int LowerOffset /*$s3*/, int x /*$s4*/, int y /*$s5*/, int z /*stack 16*/, int slope /*stack 20*/)
// line 438, offset 0x80070bc8
/* begin block 1 */
// Start line: 439
// Start offset: 0x80070BC8
// Variables:
// 		struct evPhysicsGravityData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070BC8
// End Line: 439

/* begin block 2 */
// Start line: 777
/* end block 2 */
// End Line: 778

int SetPhysicsGravityData(int UpperOffset, int LowerOffset, int x, int y, int z, int slope)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0xc);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetPhysicsEdgeData(int UpperOffset /*$s5*/, int ForwardOffset /*$s6*/, int AboveOffset /*$s7*/, int x /*$fp*/, int y /*stack 16*/, int z /*stack 20*/, struct _SVector *Normal1 /*stack 24*/, struct _SVector *Normal2 /*stack 28*/, struct _SVector *Delta /*stack 32*/)
// line 462, offset 0x80070c44
/* begin block 1 */
// Start line: 463
// Start offset: 0x80070C44
// Variables:
// 		struct evPhysicsEdgeData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070C44
// End Line: 463

/* begin block 2 */
// Start line: 825
/* end block 2 */
// End Line: 826

int SetPhysicsEdgeData(int UpperOffset, int ForwardOffset, int AboveOffset, int x, int y, int z,
					   _SVector *Normal1, _SVector *Normal2, _SVector *Delta)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x24);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetPhysicsSwimData(int CheckDepth /*$s1*/, struct _SVector *iVelocity /*$s2*/, int SwimDepth /*$s3*/, int WadeDepth /*$s4*/, int TreadDepth /*stack 16*/)
// line 485, offset 0x80070cf0
/* begin block 1 */
// Start line: 486
// Start offset: 0x80070CF0
// Variables:
// 		struct evPhysicsSwimData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070CF0
// End Line: 486

/* begin block 2 */
// Start line: 871
/* end block 2 */
// End Line: 872

int SetPhysicsSwimData(int CheckDepth, _SVector *iVelocity, int SwimDepth, int WadeDepth, int TreadDepth)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x18);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetPhysicsDropOffData(int xOffset /*$s1*/, int yOffset /*$s2*/, int DropOffset /*$s3*/, int slipSlope /*$s4*/, int UpperOffset /*stack 16*/)
// line 503, offset 0x80070d5c
/* begin block 1 */
// Start line: 504
// Start offset: 0x80070D5C
// Variables:
// 		struct evPhysicsDropOffData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070D5C
// End Line: 504

/* begin block 2 */
// Start line: 907
/* end block 2 */
// End Line: 908

int SetPhysicsDropOffData(int xOffset, int yOffset, int DropOffset, int slipSlope, int UpperOffset)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0xc);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetPhysicsSlideData(int Segment /*$s3*/, int ForwardVectorX /*$s4*/, int ForwardVectorY /*$s5*/, int ForwardVectorZ /*$s6*/, int DropOffset /*stack 16*/, int UpperOffset /*stack 20*/, int Height /*stack 24*/)
// line 523, offset 0x80070dc8
/* begin block 1 */
// Start line: 524
// Start offset: 0x80070DC8
// Variables:
// 		struct evPhysicsSlideData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070DC8
// End Line: 524

/* begin block 2 */
// Start line: 947
/* end block 2 */
// End Line: 948

int SetPhysicsSlideData(int Segment, int ForwardVectorX, int ForwardVectorY, int ForwardVectorZ,
						int DropOffset, int UpperOffset, int Height)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x28);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetPhysicsWallCrawlData(int Segment /*$s0*/, int Length /*$s1*/, int ForwardOffset /*$s2*/, int NormalDistance /*$s3*/)
// line 544, offset 0x80070e54
/* begin block 1 */
// Start line: 545
// Start offset: 0x80070E54
// Variables:
// 		struct evPhysicsWallCrawlData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070E54
// End Line: 545

/* begin block 2 */
// Start line: 989
/* end block 2 */
// End Line: 990

int SetMonsterHitData(_Instance *Sender, _Instance *lastHit, int Power, int knockBackDistance,
					  int knockBackFrames)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x2c);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetPhysicsLinkedMoveData(struct _Instance *instance /*$s1*/, int segment /*$s0*/, struct _SVector *posDelta /*$s2*/, struct _SVector *rotDelta /*$s3*/)
// line 561, offset 0x80070eb0
/* begin block 1 */
// Start line: 562
// Start offset: 0x80070EB0
// Variables:
// 		struct evPhysicsLinkedMoveData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070F34
// End Line: 574

/* begin block 2 */
// Start line: 1023
/* end block 2 */
// End Line: 1024

int SetPhysicsLinkedMoveData(_Instance *instance, int segment, _SVector *posDelta, _SVector *rotDelta)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x18);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetPhysicsDropHeightData(struct _Position *offset /*$s0*/, int dropOffset /*$s1*/, int mode /*$s2*/)
// line 582, offset 0x80070f50
/* begin block 1 */
// Start line: 583
// Start offset: 0x80070F50
// Variables:
// 		struct evPhysicsDropHeightData *ptr; // $v0
/* end block 1 */
// End offset: 0x80070F50
// End Line: 583

/* begin block 2 */
// Start line: 1065
/* end block 2 */
// End Line: 1066

int SetPhysicsDropHeightData(_Position *offset, int dropOffset, int mode)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x14);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetAnimationControllerDoneData(struct _Instance *instance /*$s0*/, long segment /*$s1*/, long type /*$s2*/, int data /*$s3*/)
// line 602, offset 0x80070fc0
/* begin block 1 */
// Start line: 603
// Start offset: 0x80070FC0
// Variables:
// 		struct evAnimationControllerDoneData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80070FC0
// End Line: 603

/* begin block 2 */
// Start line: 1105
/* end block 2 */
// End Line: 1106

int SetAnimationControllerDoneData(_Instance *instance, long segment, long type, int data)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x10);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetAnimationInstanceSwitchData(struct _Instance *instance /*$s1*/, int anim /*$s2*/, int frame /*$s3*/, int frames /*$s4*/, int mode /*stack 16*/)
// line 620, offset 0x8007101c
/* begin block 1 */
// Start line: 621
// Start offset: 0x8007101C
// Variables:
// 		struct evAnimationInstanceSwitchData *Ptr; // $v0
/* end block 1 */
// End offset: 0x8007101C
// End Line: 621

/* begin block 2 */
// Start line: 1141
/* end block 2 */
// End Line: 1142

int SetAnimationInstanceSwitchData(_Instance *instance, int anim, int frame, int frames, int mode)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x14);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetFXHitData(struct _Instance *hitter /*$s2*/, int segment /*$s3*/, int amount /*$s0*/, int type /*$s1*/)
// line 639, offset 0x80071088
/* begin block 1 */
// Start line: 640
// Start offset: 0x80071088
// Variables:
// 		struct evFXHitData *Ptr; // $a1
/* end block 1 */
// End offset: 0x80071164
// End Line: 656

/* begin block 2 */
// Start line: 1179
/* end block 2 */
// End Line: 1180

int SetFXHitData(_Instance *hitter, int segment, int amount, int type)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x14);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetObjectThrowData(void *target /*$s2*/, struct _SVector *angularVel /*$s7*/, unsigned short type /*$s0*/, unsigned short spinType /*$s1*/, int speed /*stack 16*/, int gravity /*stack 20*/, int zVel /*stack 24*/, int initialXRot /*stack 28*/)
// line 693, offset 0x80071184
/* begin block 1 */
// Start line: 694
// Start offset: 0x80071184
// Variables:
// 		struct evObjectThrowData *Ptr; // $a0
/* end block 1 */
// End offset: 0x800712B0
// End Line: 746

/* begin block 2 */
// Start line: 1386
/* end block 2 */
// End Line: 1387

int SetObjectThrowData(void *target, _SVector *angularVel, ushort type, ushort spinType, int speed,
					   int gravity, int zVel, int initialXRot)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x1c);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetObjectBreakOffData(struct _Instance *force /*$s3*/, short node /*$a1*/, short distance /*$a2*/, short animation /*$a3*/, int frame /*stack 16*/, int type /*stack 20*/, int action /*stack 24*/)
// line 750, offset 0x800712f0
/* begin block 1 */
// Start line: 751
// Start offset: 0x800712F0
// Variables:
// 		struct evObjectBreakOffData *Ptr; // $v0
/* end block 1 */
// End offset: 0x800712F0
// End Line: 751

/* begin block 2 */
// Start line: 1369
/* end block 2 */
// End Line: 1370

int SetObjectBreakOffData(_Instance *force, short node, short distance, short animation, int frame, int type,
						  int action)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x10);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetControlInitHangData(struct _Instance *instance /*$s0*/, long frame /*$s1*/, long frames /*$s2*/)
// line 767, offset 0x8007137c
/* begin block 1 */
// Start line: 768
// Start offset: 0x8007137C
// Variables:
// 		struct evControlInitHangData *Ptr; // $v0
/* end block 1 */
// End offset: 0x8007137C
// End Line: 768

/* begin block 2 */
// Start line: 1403
/* end block 2 */
// End Line: 1404

int SetControlInitHangData(_Instance *instance, long frame, long frames)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0xc);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetControlInitIdleData(int mode /*$s0*/, long frame /*$s1*/, long frames /*$s2*/)
// line 781, offset 0x800713c8
/* begin block 1 */
// Start line: 782
// Start offset: 0x800713C8
// Variables:
// 		struct evControlInitIdleData *Ptr; // $v0
/* end block 1 */
// End offset: 0x800713C8
// End Line: 782

/* begin block 2 */
// Start line: 1431
/* end block 2 */
// End Line: 1432

int SetPhysicsWallCrawlData(int Segment, int Length, int ForwardOffset, int NormalDistance)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0xc);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetObjectDraftData(short force /*$a0*/, unsigned short radius /*$a1*/, unsigned short radiusCoef /*$a2*/, unsigned short height /*$a3*/, int maxVelocity /*stack 16*/)
// line 795, offset 0x80071414
/* begin block 1 */
// Start line: 796
// Start offset: 0x80071414
// Variables:
// 		struct evObjectDraftData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80071414
// End Line: 796

/* begin block 2 */
// Start line: 1459
/* end block 2 */
// End Line: 1460

int SetObjectDraftData(short force, ushort radius, ushort radiusCoef, ushort height, int maxVelocity)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(10);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetObjectAbsorbData(struct _Instance *force /*$s0*/, unsigned short node /*$a1*/, unsigned short steps /*$a2*/)
// line 811, offset 0x80071480
/* begin block 1 */
// Start line: 812
// Start offset: 0x80071480
// Variables:
// 		struct evObjectAbsorbData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80071480
// End Line: 812

/* begin block 2 */
// Start line: 1491
/* end block 2 */
// End Line: 1492

int SetObjectAbsorbData(_Instance *force, ushort node, ushort steps)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(8);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetControlSaveDataData(long length /*$s0*/, void *data /*$s1*/)
// line 827, offset 0x800714cc
/* begin block 1 */
// Start line: 828
// Start offset: 0x800714CC
// Variables:
// 		struct evControlSaveDataData *Ptr; // $v0
/* end block 1 */
// End offset: 0x800714CC
// End Line: 828

/* begin block 2 */
// Start line: 1523
/* end block 2 */
// End Line: 1524

int SetControlSaveDataData(long length, void *data)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(8);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetObjectIdleData(long mode /*$s0*/, struct _Instance *instance /*$s1*/)
// line 840, offset 0x80071508
/* begin block 1 */
// Start line: 841
// Start offset: 0x80071508
// Variables:
// 		struct evObjectIdleData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80071508
// End Line: 841

/* begin block 2 */
// Start line: 1549
/* end block 2 */
// End Line: 1550

int SetObjectIdleData(long mode, _Instance *instance)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(8);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetActionPlayHostAnimationData(struct _Instance *instance /*$s2*/, struct _Instance *host /*$s3*/, int newAnim /*$s4*/, int newFrame /*$s5*/, int frames /*stack 16*/, int mode /*stack 20*/)
// line 869, offset 0x80071544
/* begin block 1 */
// Start line: 870
// Start offset: 0x80071544
// Variables:
// 		struct evActionPlayHostAnimationData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80071544
// End Line: 870

/* begin block 2 */
// Start line: 1738
/* end block 2 */
// End Line: 1739

int SetActionPlayHostAnimationData(_Instance *instance, _Instance *host, int newAnim, int newFrame, int frames, int mode)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x18);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetObjectBirthProjectileData(struct _Instance *instance /*$s0*/, int joint /*$s1*/, int type /*$s2*/)
// line 888, offset 0x800715c0
/* begin block 1 */
// Start line: 889
// Start offset: 0x800715C0
// Variables:
// 		struct evObjectBirthProjectileData *Ptr; // $v0
/* end block 1 */
// End offset: 0x800715C0
// End Line: 889

/* begin block 2 */
// Start line: 1625
/* end block 2 */
// End Line: 1626

int SetObjectBirthProjectileData(_Instance *instance, int joint, int type)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0x10);
}

// decompiled code
// original method signature:
// int /*$ra*/ SetShadowSegmentData(unsigned long total /*$s0*/)
// line 907, offset 0x80071610
/* begin block 1 */
// Start line: 908
// Start offset: 0x80071610
// Variables:
// 		struct evShadowSegmentData *Ptr; // $v0
/* end block 1 */
// End offset: 0x80071610
// End Line: 908

/* begin block 2 */
// Start line: 1663
/* end block 2 */
// End Line: 1664

int SetShadowSegmentData(ulong total)

{
	/* WARNING: Subroutine does not return */
	CIRC_Alloc(0xc);
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInit()
// line 921, offset 0x8007163c
/* begin block 1 */
// Start line: 1691
/* end block 1 */
// End Line: 1692

/* begin block 2 */
// Start line: 1695
/* end block 2 */
// End Line: 1696

void G2EmulationInit(void)

{
	uGpffff9ae0 = 0;
	if (iGpffff9ae4 == 0)
	{
		/* WARNING: Subroutine does not return */
		MEMPACK_Malloc(0x12, '\x19');
	}
	if (iGpffff9ae8 == 0)
	{
		/* WARNING: Subroutine does not return */
		MEMPACK_Malloc(0x12, '\x19');
	}
	if (iGpffff9aec == 0)
	{
		/* WARNING: Subroutine does not return */
		MEMPACK_Malloc(6, '\x19');
	}
	if (iGpffff9af0 == 0)
	{
		/* WARNING: Subroutine does not return */
		MEMPACK_Malloc(0x12, '\x19');
	}
	if (iGpffff9af4 == 0)
	{
		/* WARNING: Subroutine does not return */
		MEMPACK_Malloc(0x12, '\x19');
	}
	if (iGpffff9af8 == 0)
	{
		/* WARNING: Subroutine does not return */
		MEMPACK_Malloc(0x12, '\x19');
	}
	uGpffff9ae0 = 0;
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstancePlayAnimation(struct _Instance *instance /*$a0*/)
// line 978, offset 0x80071828
/* begin block 1 */
// Start line: 979
// Start offset: 0x80071828
// Variables:
// 		int i; // $s0
// 		struct _G2Anim_Type *anim; // $s1
/* end block 1 */
// End offset: 0x8007187C
// End Line: 990

/* begin block 2 */
// Start line: 1815
/* end block 2 */
// End Line: 1816

void G2EmulationInstancePlayAnimation(_Instance *instance)

{
	uint uVar1;
	uint uVar2;

	uVar2 = 0;
	if ((instance->anim).sectionCount != '\0')
	{
		uVar1 = 0;
		do
		{
			G2AnimSection_NextKeyframe((instance->anim).section + uVar1);
			uVar2 = uVar2 + 1;
			uVar1 = uVar2 & 0xff;
		} while ((int)uVar2 < (int)(uint)(instance->anim).sectionCount);
	}
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulatePlayAnimation(struct __CharacterState *In /*$a0*/)
// line 995, offset 0x80071890
/* begin block 1 */
// Start line: 1858
/* end block 1 */
// End Line: 1859

void G2EmulatePlayAnimation(__CharacterState *In)

{
	G2EmulationInstancePlayAnimation(In->CharacterInstance);
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstanceToInstanceSwitchAnimation(struct _Instance *instance /*$a0*/, struct _Instance *host /*$a1*/, int CurrentSection /*$a2*/, int NewAnim /*$s2*/, int NewFrame /*stack 16*/, int Frames /*stack 20*/, int Mode /*stack 24*/)
// line 1006, offset 0x800718b4
/* begin block 1 */
// Start line: 1007
// Start offset: 0x800718B4
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $s4
// 		struct _G2AnimKeylist_Type *keylist; // $s1
/* end block 1 */
// End offset: 0x80071988
// End Line: 1028

/* begin block 2 */
// Start line: 1880
/* end block 2 */
// End Line: 1881

void G2EmulationInstanceToInstanceSwitchAnimation(_Instance *instance, _Instance *host, int CurrentSection, int NewAnim, int NewFrame,
												  int Frames, int Mode)

{
	G2Instance_GetKeylist(host, NewAnim);
	/* WARNING: Subroutine does not return */
	G2AnimSection_SetAlphaTable((instance->anim).section + CurrentSection, (_G2AnimAlphaTable_Type *)0x0);
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstanceSwitchAnimation(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/, int NewAnim /*$s2*/, int NewFrame /*$s3*/, int Frames /*stack 16*/, int Mode /*stack 20*/)
// line 1032, offset 0x800719ac
/* begin block 1 */
// Start line: 1033
// Start offset: 0x800719AC
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $s4
// 		struct _G2AnimKeylist_Type *keylist; // $s1
/* end block 1 */
// End offset: 0x80071A7C
// End Line: 1054

/* begin block 2 */
// Start line: 1954
/* end block 2 */
// End Line: 1955

void G2EmulationInstanceSwitchAnimation(_Instance *instance, int CurrentSection, int NewAnim, int NewFrame, int Frames, int Mode)

{
	G2Instance_GetKeylist(instance, NewAnim);
	/* WARNING: Subroutine does not return */
	G2AnimSection_SetAlphaTable((instance->anim).section + CurrentSection, (_G2AnimAlphaTable_Type *)0x0);
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstanceSwitchAnimationAlpha(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/, int NewAnim /*$a2*/, int NewFrame /*$a3*/, int Frames /*stack 16*/, int Mode /*stack 20*/, int AlphaTable /*stack 24*/)
// line 1057, offset 0x80071aa0
/* begin block 1 */
// Start line: 1058
// Start offset: 0x80071AA0
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $s1
/* end block 1 */
// End offset: 0x80071AA0
// End Line: 1058

/* begin block 2 */
// Start line: 2021
/* end block 2 */
// End Line: 2022

void G2EmulationInstanceSwitchAnimationAlpha(_Instance *instance, int CurrentSection, int NewAnim, int NewFrame, int Frames, int Mode,
											 int AlphaTable)

{
	G2EmulationInstanceSwitchAnimation(instance, CurrentSection, NewAnim, NewFrame, Frames, Mode);
	/* WARNING: Subroutine does not return */
	G2AnimSection_SetAlphaTable((instance->anim).section + (CurrentSection & 0xff), (&G2AlphaTables7)[AlphaTable]);
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationSwitchAnimation(struct __CharacterState *In /*$a0*/, int CurrentSection /*$a1*/, int NewAnim /*$a2*/, int NewFrame /*$a3*/, int Frames /*stack 16*/, int Mode /*stack 20*/)
// line 1067, offset 0x80071b0c
/* begin block 1 */
// Start line: 2043
/* end block 1 */
// End Line: 2044

void G2EmulationSwitchAnimation(__CharacterState *In, int CurrentSection, int NewAnim, int NewFrame, int Frames, int Mode)

{
	if (NewAnim < 0)
	{
		NewAnim = 0;
	}
	G2EmulationInstanceSwitchAnimation(In->CharacterInstance, CurrentSection, NewAnim, NewFrame, Frames, Mode);
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationSwitchAnimationAlpha(struct __CharacterState *In /*$a0*/, int CurrentSection /*$a1*/, int NewAnim /*$a2*/, int NewFrame /*$a3*/, int Frames /*stack 16*/, int Mode /*stack 20*/, int AlphaTable /*stack 24*/)
// line 1081, offset 0x80071b50
/* begin block 1 */
// Start line: 1082
// Start offset: 0x80071B50
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $s1
/* end block 1 */
// End offset: 0x80071B50
// End Line: 1082

/* begin block 2 */
// Start line: 2071
/* end block 2 */
// End Line: 2072

void G2EmulationSwitchAnimationAlpha(__CharacterState *In, int CurrentSection, int NewAnim, int NewFrame, int Frames, int Mode, int AlphaTable)

{
	_Instance *p_Var1;

	p_Var1 = In->CharacterInstance;
	G2EmulationInstanceSwitchAnimation(In->CharacterInstance, CurrentSection, NewAnim, NewFrame, Frames, Mode);
	/* WARNING: Subroutine does not return */
	G2AnimSection_SetAlphaTable((p_Var1->anim).section + (CurrentSection & 0xff), (&G2AlphaTables7)[AlphaTable]);
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationSwitchAnimationSync(struct __CharacterState *In /*stack 0*/, int SlaveSectionID /*$fp*/, int MasterSectionID /*$a2*/, int Frames /*stack 12*/)
// line 1093, offset 0x80071bc4
/* begin block 1 */
// Start line: 1094
// Start offset: 0x80071BC4
// Variables:
// 		struct _Instance *instance; // $a1
// 		struct _G2AnimSection_Type *masterAnimSection; // $s6
// 		struct _G2AnimSection_Type *slaveAnimSection; // $s5
// 		struct _G2AnimKeylist_Type *keylist; // $s1
// 		int keylistID; // $s3
// 		struct __State *masterSection; // $s7
// 		struct __State *slaveSection; // $s2
/* end block 1 */
// End offset: 0x80071D34
// End Line: 1130

/* begin block 2 */
// Start line: 2097
/* end block 2 */
// End Line: 2098

void G2EmulationSwitchAnimationSync(__CharacterState *In, int SlaveSectionID, int MasterSectionID, int Frames)

{
	_Instance *p_Var1;
	_G2AnimKeylist_Type *keylist;
	_G2AnimSection_Type *section;

	p_Var1 = In->CharacterInstance;
	section = (p_Var1->anim).section + (MasterSectionID & 0xff);
	keylist = section->keylist;
	G2AnimSection_GetKeyframeNumber(section);
	G2AnimKeylist_GetKeyframeCount(keylist);
	/* WARNING: Subroutine does not return */
	G2AnimSection_SetAlphaTable((p_Var1->anim).section + (SlaveSectionID & 0xff), (_G2AnimAlphaTable_Type *)0x0);
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstanceToInstanceSwitchAnimationCharacter(struct _Instance *instance /*$s0*/, struct _Instance *host /*$a1*/, int NewAnim /*$s2*/, int NewFrame /*$s3*/, int Frames /*stack 16*/, int Mode /*stack 20*/)
// line 1137, offset 0x80071d90
/* begin block 1 */
// Start line: 1138
// Start offset: 0x80071D90
// Variables:
// 		struct _G2AnimKeylist_Type *keylist1; // $s0
/* end block 1 */
// End offset: 0x80071E58
// End Line: 1160

/* begin block 2 */
// Start line: 2208
/* end block 2 */
// End Line: 2209

void G2EmulationInstanceToInstanceSwitchAnimationCharacter(_Instance *instance, _Instance *host, int NewAnim, int NewFrame, int Frames, int Mode)

{
	_G2AnimKeylist_Type *keylist;
	_G2Anim_Type *anim;

	keylist = G2Instance_GetKeylist(host, NewAnim);
	anim = &instance->anim;
	G2Anim_SetAlphaTable(anim, (_G2AnimAlphaTable_Type *)0x0);
	G2Anim_InterpToKeylistFrame(anim, keylist, NewAnim, NewFrame, Frames * 0x640000 >> 0x10);
	if (Mode == 0)
	{
		G2Anim_SetPaused(anim);
	}
	else
	{
		G2Anim_SetUnpaused(anim);
		if (Mode == 2)
		{
			G2Anim_SetLooping(anim);
		}
		else
		{
			G2Anim_SetNoLooping(anim);
		}
	}
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationSwitchAnimationCharacter(struct __CharacterState *In /*$a0*/, int NewAnim /*$s2*/, int NewFrame /*$s5*/, int Frames /*$s3*/, int Mode /*stack 16*/)
// line 1164, offset 0x80071e7c
/* begin block 1 */
// Start line: 1165
// Start offset: 0x80071E7C
// Variables:
// 		struct _Instance *instance; // $s0
// 		struct _G2AnimKeylist_Type *keylist; // $s0
/* end block 1 */
// End offset: 0x80071F4C
// End Line: 1192

/* begin block 2 */
// Start line: 2270
/* end block 2 */
// End Line: 2271

void G2EmulationSwitchAnimationCharacter(__CharacterState *In, int NewAnim, int NewFrame, int Frames, int Mode)

{
	_G2AnimKeylist_Type *keylist;
	_Instance *instance;
	_G2Anim_Type *anim;

	if (NewAnim < 0)
	{
		NewAnim = 0;
	}
	instance = In->CharacterInstance;
	keylist = G2Instance_GetKeylist(instance, NewAnim);
	anim = &instance->anim;
	G2Anim_SetAlphaTable(anim, (_G2AnimAlphaTable_Type *)0x0);
	G2Anim_InterpToKeylistFrame(anim, keylist, NewAnim, NewFrame, Frames * 0x640000 >> 0x10);
	if (Mode == 0)
	{
		G2Anim_SetPaused(anim);
	}
	else
	{
		G2Anim_SetUnpaused(anim);
		if (Mode == 2)
		{
			G2Anim_SetLooping(anim);
		}
		else
		{
			G2Anim_SetNoLooping(anim);
		}
	}
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstanceSetAnimation(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/, int NewAnim /*$s3*/, int NewFrame /*$s4*/, int Frames /*stack 16*/)
// line 1203, offset 0x80071f70
/* begin block 1 */
// Start line: 1204
// Start offset: 0x80071F70
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $s2
// 		struct _G2AnimKeylist_Type *keylist; // $s1
/* end block 1 */
// End offset: 0x80071F70
// End Line: 1204

/* begin block 2 */
// Start line: 2406
/* end block 2 */
// End Line: 2407

void G2EmulationInstanceSetAnimation(_Instance *instance, int CurrentSection, int NewAnim, int NewFrame, int Frames)

{
	G2Instance_GetKeylist(instance, NewAnim);
	/* WARNING: Subroutine does not return */
	G2AnimSection_SetAlphaTable((instance->anim).section + (CurrentSection & 0xff), (_G2AnimAlphaTable_Type *)0x0);
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationSetAnimation(struct __CharacterState *In /*$a0*/, int CurrentSection /*$a1*/, int NewAnim /*$a2*/, int NewFrame /*$a3*/, int Frames /*stack 16*/)
// line 1217, offset 0x80072018
/* begin block 1 */
// Start line: 2385
/* end block 1 */
// End Line: 2386

void G2EmulationSetAnimation(__CharacterState *In, int CurrentSection, int NewAnim, int NewFrame, int Frames)

{
	if (NewAnim < 0)
	{
		NewAnim = 0;
	}
	G2EmulationInstanceSetAnimation(In->CharacterInstance, CurrentSection, NewAnim, NewFrame, Frames);
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstanceSetMode(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/, int Mode /*$s1*/)
// line 1232, offset 0x80072050
/* begin block 1 */
// Start line: 1233
// Start offset: 0x80072050
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $s0
/* end block 1 */
// End offset: 0x800720BC
// End Line: 1249

/* begin block 2 */
// Start line: 2415
/* end block 2 */
// End Line: 2416

void G2EmulationInstanceSetMode(_Instance *instance, int CurrentSection, int Mode)

{
	_G2AnimSection_Type *section;

	section = (instance->anim).section + (CurrentSection & 0xff);
	if (Mode == 0)
	{
		G2AnimSection_NextKeyframe(section);
	}
	else
	{
		G2AnimSection_SetUnpaused(section);
		if (Mode == 1)
		{
			/* WARNING: Subroutine does not return */
			G2AnimSection_SetNoLooping(section);
		}
		G2AnimSection_SetLooping(section);
	}
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationSetMode(struct __CharacterState *In /*$a0*/, int CurrentSection /*$a1*/, int Mode /*$a2*/)
// line 1253, offset 0x800720d0
/* begin block 1 */
// Start line: 2465
/* end block 1 */
// End Line: 2466

void G2EmulationSetMode(__CharacterState *In, int CurrentSection, int Mode)

{
	G2EmulationInstanceSetMode(In->CharacterInstance, CurrentSection, Mode);
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstanceSetAnimSpeed(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/, int speed /*$a2*/)
// line 1262, offset 0x800720f4
/* begin block 1 */
// Start line: 1264
// Start offset: 0x800720F4
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $v0
/* end block 1 */
// End offset: 0x800720F4
// End Line: 1266

/* begin block 2 */
// Start line: 2483
/* end block 2 */
// End Line: 2484

/* begin block 3 */
// Start line: 2484
/* end block 3 */
// End Line: 2485

/* begin block 4 */
// Start line: 2486
/* end block 4 */
// End Line: 2487

void G2EmulationInstanceSetAnimSpeed(_Instance *instance, int CurrentSection, int speed)

{
	(instance->anim).section[CurrentSection & 0xff].speedAdjustment = speed;
	return;
}

// decompiled code
// original method signature:
// int /*$ra*/ G2EmulationInstanceQueryAnimation(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/)
// line 1272, offset 0x80072110
/* begin block 1 */
// Start line: 1275
// Start offset: 0x80072110
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $v0
/* end block 1 */
// End offset: 0x80072110
// End Line: 1277

/* begin block 2 */
// Start line: 2503
/* end block 2 */
// End Line: 2504

/* begin block 3 */
// Start line: 2505
/* end block 3 */
// End Line: 2506

/* begin block 4 */
// Start line: 2507
/* end block 4 */
// End Line: 2508

int G2EmulationInstanceQueryAnimation(_Instance *instance, int CurrentSection)

{
	return (uint)(instance->anim).section[CurrentSection & 0xff].keylistID;
}

// decompiled code
// original method signature:
// int /*$ra*/ G2EmulationQueryAnimation(struct __CharacterState *In /*$a0*/, int CurrentSection /*$a1*/)
// line 1283, offset 0x80072130
/* begin block 1 */
// Start line: 2525
/* end block 1 */
// End Line: 2526

int G2EmulationQueryAnimation(__CharacterState *In, int CurrentSection)

{
	int iVar1;

	iVar1 = G2EmulationInstanceQueryAnimation(In->CharacterInstance, CurrentSection);
	return iVar1;
}

// decompiled code
// original method signature:
// int /*$ra*/ G2EmulationInstanceQueryFrame(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/)
// line 1291, offset 0x80072154
/* begin block 1 */
// Start line: 1292
// Start offset: 0x80072154
/* end block 1 */
// End offset: 0x80072154
// End Line: 1292

/* begin block 2 */
// Start line: 2541
/* end block 2 */
// End Line: 2542

int G2EmulationInstanceQueryFrame(_Instance *instance, int CurrentSection)

{
	int iVar1;

	iVar1 = G2AnimSection_GetKeyframeNumber((instance->anim).section + (CurrentSection & 0xff));
	return iVar1;
}

// decompiled code
// original method signature:
// int /*$ra*/ G2EmulationInstanceQueryLastFrame(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/)
// line 1303, offset 0x80072188
/* begin block 1 */
// Start line: 1304
// Start offset: 0x80072188
/* end block 1 */
// End offset: 0x80072188
// End Line: 1304

/* begin block 2 */
// Start line: 2569
/* end block 2 */
// End Line: 2570

int G2EmulationInstanceQueryLastFrame(_Instance *instance, int CurrentSection)

{
	int iVar1;

	iVar1 = G2AnimSection_GetStoredKeyframeNumber((instance->anim).section + (CurrentSection & 0xff));
	return iVar1;
}

// decompiled code
// original method signature:
// int /*$ra*/ G2EmulationInstanceQueryPassedFrame(struct _Instance *instance /*$s2*/, int CurrentSection /*$a1*/, int frame /*$s1*/)
// line 1314, offset 0x800721bc
/* begin block 1 */
// Start line: 1315
// Start offset: 0x800721BC
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $s0
/* end block 1 */
// End offset: 0x8007224C
// End Line: 1329

/* begin block 2 */
// Start line: 2594
/* end block 2 */
// End Line: 2595

int G2EmulationInstanceQueryPassedFrame(_Instance *instance, int CurrentSection, int frame)

{
	_G2Bool_Enum _Var1;
	uint uVar2;
	_G2AnimKeylist_Type *p_Var3;
	short sVar4;
	_G2AnimSection_Type *section;

	section = (instance->anim).section + (CurrentSection & 0xff);
	_Var1 = G2AnimSection_IsInInterpolation(section);
	uVar2 = 0;
	if ((_Var1 == G2FALSE) && (uVar2 = 1, frame != 0))
	{
		p_Var3 = G2Anim_GetKeylist(&instance->anim);
		sVar4 = (short)frame * (ushort)p_Var3->s0TailTime;
		uVar2 = 0;
		if (section->storedTime < sVar4)
		{
			uVar2 = (uint)(section->elapsedTime < sVar4) ^ 1;
		}
	}
	return uVar2;
}

// decompiled code
// original method signature:
// int /*$ra*/ G2EmulationQueryFrame(struct __CharacterState *In /*$a0*/, int CurrentSection /*$a1*/)
// line 1333, offset 0x80072264
/* begin block 1 */
// Start line: 2640
/* end block 1 */
// End Line: 2641

int G2EmulationQueryFrame(__CharacterState *In, int CurrentSection)

{
	int iVar1;

	iVar1 = G2EmulationInstanceQueryFrame(In->CharacterInstance, CurrentSection);
	return iVar1;
}

// decompiled code
// original method signature:
// int /*$ra*/ G2EmulationInstanceQueryMode(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/)
// line 1341, offset 0x80072288
/* begin block 1 */
// Start line: 1344
// Start offset: 0x80072288
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $v0
/* end block 1 */
// End offset: 0x800722C8
// End Line: 1356

/* begin block 2 */
// Start line: 2656
/* end block 2 */
// End Line: 2657

/* begin block 3 */
// Start line: 2658
/* end block 3 */
// End Line: 2659

/* begin block 4 */
// Start line: 2660
/* end block 4 */
// End Line: 2661

int G2EmulationInstanceQueryMode(_Instance *instance, int CurrentSection)

{
	byte bVar1;
	int iVar2;

	bVar1 = (instance->anim).section[CurrentSection & 0xff].flags;
	iVar2 = 0;
	if (((bVar1 & 1) == 0) && (iVar2 = 2, (bVar1 & 2) == 0))
	{
		return 1;
	}
	return iVar2;
}

// decompiled code
// original method signature:
// int /*$ra*/ G2EmulationQueryMode(struct __CharacterState *In /*$a0*/, int CurrentSection /*$a1*/)
// line 1360, offset 0x800722d0
/* begin block 1 */
// Start line: 2700
/* end block 1 */
// End Line: 2701

int G2EmulationQueryMode(__CharacterState *In, int CurrentSection)

{
	int iVar1;

	iVar1 = G2EmulationInstanceQueryMode(In->CharacterInstance, CurrentSection);
	return iVar1;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstanceSetStartAndEndSegment(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/, short Start /*$a2*/, short End /*$a3*/)
// line 1368, offset 0x800722f4
/* begin block 1 */
// Start line: 1371
// Start offset: 0x800722F4
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $a0
/* end block 1 */
// End offset: 0x800722F4
// End Line: 1373

/* begin block 2 */
// Start line: 2716
/* end block 2 */
// End Line: 2717

/* begin block 3 */
// Start line: 2718
/* end block 3 */
// End Line: 2719

/* begin block 4 */
// Start line: 2720
/* end block 4 */
// End Line: 2721

void G2EmulationInstanceSetStartAndEndSegment(_Instance *instance, int CurrentSection, short Start, short End)

{
	_G2AnimSection_Type *p_Var1;

	p_Var1 = (instance->anim).section + (CurrentSection & 0xff);
	p_Var1->firstSeg = (uchar)Start;
	p_Var1->segCount = ((char)End - (uchar)Start) + '\x01';
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationSetStartAndEndSegment(struct __CharacterState *In /*$a0*/, int CurrentSection /*$a1*/, short Start /*$a2*/, short End /*$a3*/)
// line 1379, offset 0x80072320
/* begin block 1 */
// Start line: 2738
/* end block 1 */
// End Line: 2739

void G2EmulationSetStartAndEndSegment(__CharacterState *In, int CurrentSection, short Start, short End)

{
	G2EmulationInstanceSetStartAndEndSegment(In->CharacterInstance, CurrentSection, Start, End);
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstanceSetTotalSections(struct _Instance *instance /*$s2*/, short Total /*$a1*/)
// line 1387, offset 0x80072350
/* begin block 1 */
// Start line: 1388
// Start offset: 0x80072350
// Variables:
// 		struct _G2Anim_Type *anim; // $s0
/* end block 1 */
// End offset: 0x800723A8
// End Line: 1397

/* begin block 2 */
// Start line: 2756
/* end block 2 */
// End Line: 2757

void G2EmulationInstanceSetTotalSections(_Instance *instance, short Total)

{
	byte bVar1;
	_G2Anim_Type *anim;

	bVar1 = (instance->anim).sectionCount;
	anim = &instance->anim;
	while ((int)(uint)bVar1 < (int)Total)
	{
		G2Anim_AddSection(anim, 0, 0);
		bVar1 = anim->sectionCount;
	}
	G2Anim_SetCallback(anim, INSTANCE_DefaultAnimCallback, instance);
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationSetTotalSections(struct __CharacterState *In /*$a0*/, short Total /*$a1*/)
// line 1404, offset 0x800723d4
/* begin block 1 */
// Start line: 2796
/* end block 1 */
// End Line: 2797

void G2EmulationSetTotalSections(__CharacterState *In, short Total)

{
	In->TotalSections = (int)Total;
	G2EmulationInstanceSetTotalSections(In->CharacterInstance, Total);
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationInstanceInitSection(struct _Instance *instance /*$a0*/, int CurrentSection /*$a1*/, void *callback /*$a2*/, void *data /*$a3*/)
// line 1414, offset 0x80072404
/* begin block 1 */
// Start line: 1417
// Start offset: 0x80072404
// Variables:
// 		struct _G2AnimSection_Type *animSection; // $a0
/* end block 1 */
// End offset: 0x80072404
// End Line: 1419

/* begin block 2 */
// Start line: 2818
/* end block 2 */
// End Line: 2819

/* begin block 3 */
// Start line: 2820
/* end block 3 */
// End Line: 2821

/* begin block 4 */
// Start line: 2822
/* end block 4 */
// End Line: 2823

void G2EmulationInstanceInitSection(_Instance *instance, int CurrentSection, void *callback, void *data)

{
	_G2AnimSection_Type *p_Var1;

	p_Var1 = (instance->anim).section + (CurrentSection & 0xff);
	p_Var1->callback = callback;
	p_Var1->callbackData = data;
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ G2EmulationSetInterpController_Vector(struct _Instance *instance /*$a0*/, long segment /*$a1*/, long type /*$a2*/, struct _G2SVector3_Type *vec /*$a3*/, int Frames /*stack 16*/, int Data /*stack 20*/)
// line 1440, offset 0x80072428
/* begin block 1 */
// Start line: 2880
/* end block 1 */
// End Line: 2881

void G2EmulationSetInterpController_Vector(_Instance *instance, long segment, long type, _G2SVector3_Type *vec, int Frames, int Data)

{
	G2Anim_SetInterpController_Vector(&instance->anim, segment & 0xffU, type & 0xffU, vec, Frames * 0x640000 >> 0x10);
	G2Anim_SetControllerCallbackData(&instance->anim, segment & 0xffU, type & 0xffU, (void *)Data);
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ StateSwitchStateDataDefault(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s0*/, TDRFuncPtr_StateSwitchStateDataDefault2NewProcess NewProcess /*$a2*/, int Data /*$a3*/)
// line 1456, offset 0x800724b0
/* begin block 1 */
// Start line: 1457
// Start offset: 0x800724B0
// Variables:
// 		void (*process)(); // $s2
/* end block 1 */
// End offset: 0x800724B0
// End Line: 1457

/* begin block 2 */
// Start line: 2907
/* end block 2 */
// End Line: 2908

void StateSwitchStateDataDefault(__CharacterState *In, int CurrentSection,
								 TDRFuncPtr_StateSwitchStateDataDefault2NewProcess NewProcess, int Data)

{
	_func_14 *p_Var1;

	p_Var1 = In->SectionList[CurrentSection].Process;
	StateSwitchStateData(In, CurrentSection, (TDRFuncPtr_StateSwitchStateData2NewProcess)NewProcess, Data);
	(*p_Var1)(In, CurrentSection, 0);
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ StateSwitchStateCharacterDataDefault(struct __CharacterState *In /*$s1*/, TDRFuncPtr_StateSwitchStateCharacterDataDefault1NewProcess NewProcess /*$s2*/, int Data /*$s3*/)
// line 1465, offset 0x80072518
/* begin block 1 */
// Start line: 1466
// Start offset: 0x80072518
// Variables:
// 		int i; // $s0
/* end block 1 */
// End offset: 0x80072574
// End Line: 1474

/* begin block 2 */
// Start line: 2928
/* end block 2 */
// End Line: 2929

void StateSwitchStateCharacterDataDefault(__CharacterState *In,
										  TDRFuncPtr_StateSwitchStateCharacterDataDefault1NewProcess NewProcess, int Data)

{
	int CurrentSection;

	CurrentSection = 0;
	if (0 < In->TotalSections)
	{
		do
		{
			StateSwitchStateDataDefault(In, CurrentSection, (TDRFuncPtr_StateSwitchStateDataDefault2NewProcess)NewProcess,
										Data);
			CurrentSection = CurrentSection + 1;
		} while (CurrentSection < In->TotalSections);
	}
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ StateSwitchStateData(struct __CharacterState *In /*$s3*/, int CurrentSection /*$s2*/, TDRFuncPtr_StateSwitchStateData2NewProcess NewProcess /*$s5*/, int Data /*$s4*/)
// line 1478, offset 0x80072590
/* begin block 1 */
// Start line: 2955
/* end block 1 */
// End Line: 2956

void StateSwitchStateData(__CharacterState *In, int CurrentSection,
						  TDRFuncPtr_StateSwitchStateData2NewProcess NewProcess, int Data)

{
	__MessageQueue *In_00;

	In_00 = &In->SectionList[CurrentSection].Event;
	PurgeMessageQueue(In_00);
	/* WARNING: Subroutine does not return */
	EnMessageQueueData(In_00, (int)&DAT_00100001, Data);
}

// decompiled code
// original method signature:
// void /*$ra*/ StateSwitchStateCharacterData(struct __CharacterState *In /*$s3*/, TDRFuncPtr_StateSwitchStateCharacterData1NewProcess NewProcess /*$s5*/, int Data /*$s6*/)
// line 1492, offset 0x8007265c
/* begin block 1 */
// Start line: 1493
// Start offset: 0x8007265C
// Variables:
// 		int i; // $s1
/* end block 1 */
// End offset: 0x80072728
// End Line: 1509

/* begin block 2 */
// Start line: 2987
/* end block 2 */
// End Line: 2988

void StateSwitchStateCharacterData(__CharacterState *In, TDRFuncPtr_StateSwitchStateCharacterData1NewProcess NewProcess,
								   int Data)

{
	__MessageQueue *In_00;

	if (0 < In->TotalSections)
	{
		In_00 = &In->SectionList[0].Event;
		PurgeMessageQueue(In_00);
		/* WARNING: Subroutine does not return */
		EnMessageQueueData(In_00, (int)&DAT_00100004, 0);
	}
	return;
}

// decompiled code
// original method signature:
// void /*$ra*/ StateGovernState(struct __CharacterState *In /*$s7*/, int Frames /*$fp*/)
// line 1513, offset 0x80072750
/* begin block 1 */
// Start line: 1514
// Start offset: 0x80072750
// Variables:
// 		struct __State *pSectionA; // $v0
// 		struct __State *pSectionB; // $v1
// 		struct _G2AnimSection_Type *animSectionA; // $s1
// 		struct _G2AnimSection_Type *animSectionB; // $s3
// 		struct _G2AnimKeylist_Type *keylist; // $s1
// 		int keylistID; // $s2
// 		int i; // $s4
/* end block 1 */
// End offset: 0x800728A0
// End Line: 1563

/* begin block 2 */
// Start line: 3040
/* end block 2 */
// End Line: 3041

void StateGovernState(__CharacterState *In, int Frames)

{
	ushort uVar1;
	_G2Bool_Enum _Var2;
	int iVar3;
	int iVar4;
	_G2AnimSection_Type *section;
	_G2AnimKeylist_Type *keylist;
	_G2AnimSection_Type *section_00;
	uint uVar5;
	int iVar6;
	int iVar7;

	uVar5 = 1;
	iVar7 = 0x124;
	iVar6 = 8;
	do
	{
		if (*(int *)((int)&In->CharacterInstance + iVar6) ==
			*(int *)((int)&In->CharacterInstance + iVar7))
		{
			section = (In->CharacterInstance->anim).section + (uVar5 - 1 & 0xff);
			section_00 = (In->CharacterInstance->anim).section + (uVar5 & 0xff);
			if (((section->keylistID == section_00->keylistID) &&
				 (_Var2 = G2AnimSection_IsInInterpolation(section), _Var2 == G2FALSE)) &&
				(_Var2 = G2AnimSection_IsInInterpolation(section_00), _Var2 == G2FALSE))
			{
				iVar3 = G2AnimSection_GetKeyframeNumber(section);
				iVar4 = G2AnimSection_GetKeyframeNumber(section_00);
				if (iVar3 != iVar4)
				{
					keylist = section->keylist;
					uVar1 = section->keylistID;
					iVar3 = G2AnimSection_GetKeyframeNumber(section);
					iVar4 = G2AnimKeylist_GetKeyframeCount(keylist);
					G2AnimSection_InterpToKeylistFrame(section_00, keylist, (uint)uVar1, (iVar3 + Frames) % iVar4,
													   Frames * 0x640000 >> 0x10);
				}
			}
		}
		iVar7 = iVar7 + 0x11c;
		uVar5 = uVar5 + 1;
		iVar6 = iVar6 + 0x11c;
	} while ((int)uVar5 < 3);
	return;
}
